Index: projectBackup/接口文档.md
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- projectBackup/接口文档.md	(date 1678086348000)
+++ projectBackup/接口文档.md	(date 1678086348000)
@@ -0,0 +1,145 @@
+### 使用说明
+
+请使用g++编译器，c++11语法规则
+
+在树莓派输入命令：
+
+树莓派固定IP：192.168.0.101
+
+查看8000端口是否被占用：
+
+netstat -anp | grep 8000
+
+lsof -i:port
+
+解除端口占用 kill -9 pid
+
+./main 开启后端服务器
+
+端口为8000
+
+或者：
+
+树莓派自启动
+
+[(116条消息) 从零开始：树莓派共享 WiFi 秒变无线热点（树莓派路由器_concefly的博客-CSDN博客](https://blog.csdn.net/concefly/article/details/115369951?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-115369951-blog-107650981.pc_relevant_default&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-115369951-blog-107650981.pc_relevant_default&utm_relevant_index=1)
+
+[(116条消息) 树莓派创建wifi热点并开机自启_Matrix-yang的博客-CSDN博客_树莓派开机自启热点](https://blog.csdn.net/qq_21768483/article/details/82944874)
+
+### 接口使用
+
+上位机wifi连接
+
+#### 接口1
+
+192.168.0.100:8000/open_device/参数一
+
+参数一：固定值0/1/2/3/4
+
+0为打开呼吸传感器
+
+1为打开体温传感器
+
+2为打开血氧传感器
+
+3为打开心电传感器
+
+4为打开血压传感器
+
+5为打开或唤醒MPU6050传感器
+
+样列：192.168.0.100:8000/open_device/1
+
+返回值：
+
+```json
+{"data": [1],"msg": "open device successful","state": 1}
+{"data": [1],"msg": "open device com failed","state": 0}
+{"data": [1],"msg": "open device repeated","state": 0}
+
+state = 1 返回成功
+state = 0 返回失败
+msg 为反馈信息
+data 为URL所传参数
+```
+
+#### 接口2
+192.168.0.100:8000/close_device/参数一
+
+参数一：固定值0/1/2/3/4
+
+0为关闭呼吸传感器
+
+1为关闭体温传感器
+
+2为关闭血氧传感器
+
+3为关闭心电传感器
+
+4为关闭血压传感器
+
+5为睡眠MPU6050传感器
+
+样列：192.168.0.100:8000/close_device/1
+
+返回值：
+
+```json
+{"data": [1],"msg": "close device successful","state": 1}
+{"data": [1],"msg": "close device failed, maybe com is closed","state": 0}
+
+state = 1 返回成功
+state = 0 返回失败
+data 为URL所传参数
+msg 为反馈信息
+```
+
+
+#### 接口3
+
+192.168.0.100:8000/get_device_data/参数一
+
+参数一：固定值0/1/2/3/4
+
+0为获取呼吸传感器数据
+
+1为获取体温传感器数据
+
+2为获取血氧传感器数据 //数据长度为2
+
+3为获取心电传感器数据
+
+4为获取血压传感器数据 //结果数据长度为3
+
+5为获取MPU6050传感器数据 //数据长度为6
+
+样列：192.168.0.100:8000/get_device_data/1
+
+返回值：
+
+```json
+{"data": [], "state": 0}
+1. 温度传感器数据 [温度]
+{"data": [[23.600000],[23.700001],[23.700001],[23.500000],[23.500000],[23.600000],[23.600000],[23.600000],[23.700001],[23.500000],[23.600000],[23.700001],[23.700001],[23.700001],[23.700001],[23.600000],[23.600000],[23.600000],[23.600000],[23.700001]], "state": 1}
+{"data": [[23.600000]], "state": 1}
+
+2. 呼吸传感器数据 [y]
+{"data": [[467.000000],[467.000000],[467.000000],[467.000000],[467.000000],[467.000000],[467.000000],[467.000000],[467.000000],[467.000000],[467.000000],[467.000000],[466.000000],[466.000000],[466.000000],[465.000000],[467.000000],[465.000000],[466.000000],[465.000000],[466.000000],[465.000000],[466.000000],[464.000000],[465.000000],[466.000000],[465.000000],[466.000000],[465.000000],[466.000000],[466.000000],[466.000000],[466.000000],[466.000000],[465.000000],[466.000000]], "state": 1}
+
+3. 血氧传感器数据 [血氧、心率]
+{"data": [[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000],[96.000000,80.000000]], "state": 1}
+
+4. 心电传感器数据 [y]
+{"data": [[479.000000],[490.000000],[472.000000],[479.000000],[480.000000],[466.000000],[473.000000],[476.000000],[484.000000],[472.000000],[483.000000],[456.000000],[494.000000],[460.000000],[484.000000],[478.000000],[475.000000],[476.000000],[487.000000],[451.000000],[487.000000],[469.000000],[496.000000],[485.000000],[496.000000],[477.000000],[472.000000],[458.000000],[470.000000],[432.000000],[475.000000],[467.000000],[477.000000],[473.000000],[481.000000],[452.000000],[484.000000],[458.000000],[481.000000],[482.000000],[479.000000],[510.000000],[499.000000],[485.000000],[507.000000],[456.000000],[485.000000],[449.000000],[465.000000],[463.000000],[455.000000],[500.000000],[463.000000],[510.000000],[452.000000],[498.000000],[477.000000],[500.000000],[507.000000],[491.000000],[497.000000],[490.000000],[494.000000],[467.000000],[474.000000],[452.000000],[471.000000],[478.000000],[468.000000],[470.000000],[476.000000],[455.000000],[490.000000],[493.000000],[461.000000],[480.000000],[456.000000],[436.000000],[473.000000],[449.000000],[479.000000],[462.000000],[468.000000],[465.000000],[481.000000],[499.000000],[480.000000],[488.000000]], "state": 1}
+
+5. 血压传感器数据 [无效值] 结果[舒张压、收缩压、心率]
+{"data": [[112.000000],[4204.000000],[4198.000000],[4195.000000],[4190.000000],[4187.000000],[4185.000000],[4182.000000],[83.000000],[4177.000000],[4174.000000],[4170.000000],[4168.000000],[133.000000,82.000000,83.000000]], "state": 1}
+
+6. MPU6050传感器数据 [gx,gy,gx,ax,ay,az] 前者陀螺仪数据，后者加速度数据
+{"data": [[-2.073171,-15.243902,-0.304878,-0.633423,-0.752808,-0.169189],[-2.195122,-0.060976,-0.365854,-0.635010,-0.751831,-0.171265],[-2.195122,0.426829,-0.304878,-0.633789,-0.752075,-0.170776],[-2.195122,0.365854,-0.060976,-0.635254,-0.751831,-0.170410],[-2.560976,-2.256098,-0.304878,1.999939,0.062256,0.540039],[-2.621951,-2.195122,-0.304878,1.999939,0.047363,0.538452]], "state": 1}
+
+state = 1 返回成功
+state = 0 返回失败
+data 为数据
+```
+
